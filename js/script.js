//Dictionnary
let dictionnary = [
    {
        "title": "home__title",
        "EN":"Hi, I'am Sedric",
        "FR":"Salut, je suis Sedric!"
    } ,
    {
        "title": "home__subtitle",
        "EN":"Backend developper",
        "FR":"Développeur backend"
    } ,
    {
        "title": "home__description",
        "EN": "High level experience in web backend development and knowledge, producing quality work.",
        "FR":"Expérience de haut niveau dans le développement web, produisant un travail de qualité."
    } ,
    {
        "title": "contact__me",
        "EN":"Contact",
        "FR":"Contact"
    } ,
    {
        "title": "my__portfolio",
        "EN":"Portfolio",
        "FR":"Portfolio"
    } ,
    {
        "title": "home__srcoll-name",
        "EN":"Scroll down",
        "FR":"Explorer"
    } ,
    {
        "title": "about__me",
        "EN":"About Me",
        "FR":"À propos de moi"
    } ,
    {
        "title": "my__introduction",
        "EN":"My introduction",
        "FR":"Ma présentation"
    } ,
    {
        "title": "about__description",
        "EN":"A professional with 7 years of experience in programming combined with a solid training in IT and a strong ability to quickly acquire new knowledge, I am able to work effectively in agile mode, independently or as a team member perfectly in French and medium English, I have strong knowledge in gathering customer needs and I also have a strong sense of organization and proven skills in coding techniques and computer program design.",
        "FR":"Professionnel doté de 7 années d’expérience dans la programmation, combinées à une solide formation en Informatique et une forte aptitude à acquérir rapidement de nouvelles connaissances, je suis capable de travailler efficacement en mode agile, de façon autonome ou en équipe parfaitement en Français et moyennement en Anglais, je possède de fortes connaissances en recueil des besoins clients et,  je fais aussi preuve d’un solide sens de l’organisation et de compétences avérées en technique de codage et conception des programmes informatiques."
    } ,
    {
        "title": "years",
        "EN":"Years",
        "FR":"Années"
    } ,
    {
        "title": "years2",
        "EN":"Years",
        "FR":"Années"
    } ,
    {
        "title": "years3",
        "EN":"Years",
        "FR":"Années"
    } ,
    {
        "title": "experience-title1",
        "EN":"experience",
        "FR":"d'expérience"
    } ,
    {
        "title": "experience-title2",
        "EN":"Completed Project",
        "FR":"de projets"
    } ,
    {
        "title": "experience-title3",
        "EN":"Teaching Computer Science",
        "FR":"d'enseignement de l'Informatique"
    } ,
    {
        "title": "download",
        "EN":"Download my CV",
        "FR":"Télécharger mon CV"
    }  ,
    {
        "title": "home",
        "EN":"Home",
        "FR":"Accueil"
    } ,
    {
        "title": "about",
        "EN":"About",
        "FR":"À propos"
    } ,
    {
        "title": "skills",
        "EN":"Skills",
        "FR":"Compétences"
    } ,
    {
        "title": "services",
        "EN":"Services",
        "FR":"Services"
    } ,
    {
        "title": "folio",
        "EN":"Portfolio",
        "FR":"Portfolio"
    } ,
    {
        "title": "contactme",
        "EN":"Contact",
        "FR":"Contact"
    } ,
    {
        "title": "skills__title",
        "EN":"Skills",
        "FR":"Compétences"
    } ,
    {
        "title": "skills__subtitle",
        "EN":"My technical level",
        "FR":"Mon niveau technique"
    } ,
    {
        "title": "frontend__header__skill",
        "EN":"Frontend developper",
        "FR":"Développeur Frontend"
    } ,
    {
        "title": "frontend__years",
        "EN":"More than 2 years",
        "FR":"Plus de 2 années"
    },
    {
        "title": "backend__header__skill",
        "EN":"Backend developper",
        "FR":"Développeur Backend"
    } ,
    {
        "title": "backend__years",
        "EN":"More than 2 years",
        "FR":"Plus de 2 années"
    } ,
    {
        "title": "teacher__header__skill",
        "EN":"Computer Science Teacher",
        "FR":"Enseignant d'Informatique"
    } ,
    {
        "title": "teacher__years",
        "EN":"More than 7 years",
        "FR":"Plus de 7 années"
    } ,
    {
        "title": "web__programming__skill",
        "EN":"Frontend Web Programming",
        "FR":"Programmation web client"
    } ,
    {
        "title": "algorithm__skill",
        "EN":"Introduction to Algorithms",
        "FR":"Introduction à l'algorithmique"
    } ,
    {
        "title": "architecture__skill",
        "EN":"Computer architecture",
        "FR":"Architecture de l'ordinateur"
    } ,
    {
        "title": "networking__skill",
        "EN":"Introduction to Networking",
        "FR":"Introduction aux réseaux informatiques"
    } ,
    {
        "title": "qualification__title",
        "EN":"Qualification",
        "FR":"Diplômes et expérience"
    },
    {
        "title": "qualification_subtitle",
        "EN":"My personnal journey",
        "FR":"Mon parcours personnel"
    },
    {
        "title": "education",
        "EN":"Education",
        "FR":"Éducation"
    },
    {
        "title": "work",
        "EN":"Work",
        "FR":"Travail"
    },
    {
        "title": "certificates",
        "EN":"Certificates",
        "FR":"Certificats"
    },
    {
        "title": "computer__programmer__qualif",
        "EN":"Ontario College Diploma in Computer Programming",
        "FR":"DEC en Programmation Informatique"
    },
    {
        "title": "computer__programmer__subqualif",
        "EN":"La Cité Collégiale College, Ottawa, Canada",
        "FR":"Collège La Cité, Ottawa, Canada"
    },
    {
        "title": "qualif2",
        "EN":"Bachelor's degree in Computer Network",
        "FR":"Master 1 en réseaux informatiques"
    },
    {
        "title": "subqualif2",
        "EN":"University of Dschang, Cameroon",
        "FR":"Université de Dschang; Cameroun"
    },
    {
        "title": "qualif3",
        "EN":"Computer Science Technical Teacher",
        "FR":"Diplôme d'enseignant d'Informatique"
    },
    {
        "title": "subqualif3",
        "EN":"University of Bamenda, Cameroon",
        "FR":"Université de Bamenda; Cameroun"
    },
    {
        "title": "qualif4",
        "EN":"Bachelor's degree in Mathematics and Computer Science",
        "FR":"Licence en Mathématiques - Informatique"
    },
    {
        "title": "subqualif4",
        "EN":"University of Dschang, Cameroon",
        "FR":"Université de Dschang; Cameroun"
    },
    {
        "title": "work1",
        "EN":"Computer Developper/Intern (40h/week)",
        "FR":"Développeur/Stage (40h/semaine)"
    },
    {
        "title": "subwork1",
        "EN":"CEPI - La Cité Collégiale College, Ottawa, Canada",
        "FR":"CEPI - La Cité Collégiale, Ottawa, Canada"
    },
    {
        "title": "work2",
        "EN":"Computer Science teacher",
        "FR":"Enseignant d'Informatique"
    },
    {
        "title": "subwork2",
        "EN":"Technical High School Santchou, Cameroon",
        "FR":"Lycée Technique de Santchou; Cameroun"
    },
    {
        "title": "work3",
        "EN":"Technical support",
        "FR":"Soutien Technique"
    },
    {
        "title": "subwork3",
        "EN":"Technical High School Santchou, Cameroon",
        "FR":"Lycée Technique de Santchou; Cameroun"
    },
    {
        "title": "certif1",
        "EN":"PCAP - Certified Associate in Python Programming",
        "FR":"PCAP - Certifié niveau Associé en Programmation Python"
    },
    {
        "title": "verif1",
        "EN":"verification link",
        "FR":"lien de vérification"
    },
    {
        "title": "date1",
        "EN":"August 18, 2023",
        "FR":"18 août 2023"
    },
    {
        "title": "certif2",
        "EN":"Android Certified Application Developper",
        "FR":"Développeur Certifié d'Application Android"
    },
    {
        "title": "verif2",
        "EN":"verification link",
        "FR":"lien de vérification"
    },
    {
        "title": "date2",
        "EN":"October 23, 2023",
        "FR":"23 Octobre 2023"
    },
    {
        "title": "service__head",
        "EN":"Services",
        "FR":"Services"
    },
    {
        "title": "service__subhead",
        "EN":"What I offer",
        "FR":"Ce que j'offre"
    },
    {
        "title": "service__title1",
        "EN":"Backend",
        "FR":"Développeur"
    },
    {
        "title": "service__title11",
        "EN":"Developper",
        "FR":"Backend"
    },
    {
        "title": "service__title2",
        "EN":"Backendend",
        "FR":"Développeur"
    },
    {
        "title": "service__title21",
        "EN":"Developper",
        "FR":"Backtend"
    },
    {
        "title": "service__title3",
        "EN":"Frontend",
        "FR":"Développeur"
    },
    {
        "title": "service__title31",
        "EN":"Developper",
        "FR":"Frontend"
    },
    {
        "title": "service__title4",
        "EN":"Frontend",
        "FR":"Développeur"
    },
    {
        "title": "service__title41",
        "EN":"Developper",
        "FR":"Frontend"
    },
    {
        "title": "service__title5",
        "EN":"Software",
        "FR":"Développeur"
    },
    {
        "title": "service__title51",
        "EN":"Developper",
        "FR":"d'application de bureau."
    },
    {
        "title": "service__title6",
        "EN":"Software",
        "FR":"Développeur"
    },
    {
        "title": "service__title61",
        "EN":"Developper",
        "FR":"d'application de bureau."
    },
    {
        "title": "service__title7",
        "EN":"Computer Programming",
        "FR":"Enseignant"
    },
    {
        "title": "service__title71",
        "EN":"Teacher",
        "FR":"de Programmation Informatique."
    },
    {
        "title": "service__title8",
        "EN":"Computer Programming",
        "FR":"Enseignant"
    },
    {
        "title": "service__title81",
        "EN":"Teacher",
        "FR":"de Programmation Informatique."
    },
    {
        "title": "service__title2",
        "EN":"Backend",
        "FR":"Développeur"
    },
    {
        "title": "service__title21",
        "EN":"Developper",
        "FR":"Backend"
    },
    {
        "title": "view__more1",
        "EN":"View More",
        "FR":"Voir plus"
    },
    {
        "title": "view__more2",
        "EN":"View More",
        "FR":"Voir plus"
    },
    {
        "title": "view__more3",
        "EN":"View More",
        "FR":"Voir plus"
    },
    {
        "title": "view__more4",
        "EN":"View More",
        "FR":"Voir plus"
    },
    {
        "title": "service__description1",
        "EN":"I am able work on the backend of web application, independenly or as a team member.",
        "FR":"Je suis capable de travailler sur la partie backend d'une application web, tant en équipe que de façon autonome."
    },
    {
        "title": "service__description2",
        "EN":"I am able to work on the frontend of web application, independenly or as a team member.",
        "FR":"Je suis capable de travailler sur la partie frontend d'une application web, tant en équipe que de façon autonome."
    },
    {
        "title": "service__description31",
        "EN":"I am able to develop software using C# and WPF, with Database access like MySQL.",
        "FR":"Je suis capbable de développer une application de bureau en utilisant le langage C#, avec connexion à une base de données comme MySQL."
    },
    {
        "title": "service__description32",
        "EN":"I develop Android Application.",
        "FR":"Je suis capable de développer une application mobile pour la plateforme Android."
    },
    {
        "title": "service__description33",
        "EN":"I develop software using Python language, with SGBD access like MySQL.",
        "FR":"Je suis capbable de développer une application de bureau en utilisant le langage Python, avec connexion à une base de données comme MySQL."
    },
    {
        "title": "service__description41",
        "EN":"I can teach introduction to computer programming.",
        "FR":"Capable de dispenser des cours d'initiation à la programmation Informatique."
    },
    {
        "title": "service__description42",
        "EN":"I can teach Object Oriented Programming using Java, C# and Python.",
        "FR":"Je suis apte à dispenser des cours de programmation Orientée Objet en utilisant les langages Java, Python et C#"
    },
    {
        "title": "service__description43",
        "EN":"I can teach Web Programming.",
        "FR":"Je suis capable de dispenser des cours de programmation Web Client et Web serveur."
    },
    {
        "title": "service__description44",
        "EN":"I can teach Android Programming using Kotlin and java.",
        "FR":"Je suis apte à dispenser des cours de programmation Android en utilisant les langages Kotlin et Java."
    },
    {
        "title": "footer__job",
        "EN":"Backend developper",
        "FR":"Développeur backend"
    },
    {
        "title": "copy__right",
        "EN":"All right reserved",
        "FR":"Tout droit reservé"
    },
    {
        "title": "send__message",
        "EN":"Send message",
        "FR":"Envoyé message"
    },
    {
        "title": "call__me",
        "EN":"Call me",
        "FR":"Appeler"
    },
    {
        "title": "email",
        "EN":"Email",
        "FR":"Courriel"
    },
    {
        "title": "location",
        "EN":"Location",
        "FR":"Position"
    },
    {
        "title": "contact__me__title",
        "EN":"Contact Me",
        "FR":"Me contacter"
    },
    {
        "title": "input__name",
        "EN":"Name",
        "FR":"Nom"
    },
    {
        "title": "input__email",
        "EN":"Email",
        "FR":"Courriel"
    },
    {
        "title": "most__recent",
        "EN":"Most recent projects",
        "FR":"Les projets les plus recents"
    }    
];

    // {
    //     "title": "portfolio__desc1",
    //     "EN":"Web application allowing a restaurant manager to manage online orders made by his customers. the customer can register, log in, list all available products, fill his basket and submit an order. Only logged-in managers can access the administration page to list all commands and change their status as needed. In addition, a new order or changes to an already submitted order are displayed in real time to logged-in administrators.",
    //     "FR":"Application web permettant à un responsable de restaurant, de gérer les commandes en ligne effectuées par ses clients. le client peut sùinscrire, se connecter, lister tous les produits disponibles, remplir son panier et soummettre une commande. Seuls les responsables connectés peuvent accéder à la page d'administration pour lister toutes les commandes et changer leur état au besoin. De plus, Une nouvelle commande ou les modifications apportées à une commande déjà soumise sont affichées en temps réel aux administrateurs connectés."
    // },
    // {
    //     "title": "portfolio__desc2",
    //     "EN":"The game allows you to move a character in a mine filled with crystals. When the character finds a crystal, he picks it up. Each time the character breaks a block, the pin loses a point of strength. Once the pick no longer has a strength point, it breaks. The goal is to collect as many crystals as possible before the pick breaks.",
    //     "FR":"Le jeu permet de déplacer un personnage dans une mine remplie de cristaux. Quand le personnage trouve un cristal, il le ramasse. A chaque fois que le personnage casse un bloc, le pioche perd un point de force. Une fois que la pioche n'a plus de point de force, elle se brise. Le but est d’amasser le plus de cristaux possibles avant que la pioche se brise."
    // },
    // {
    //     "title": "portfolio__desc3",
    //     "EN":"The user can register, log in and participate in the survey. Each poll is backed up to the SQLite database.",
    //     "FR":"L'utilisateur peut s'inscrire, se connecter et participer au sondage. Chaque sondage est sauvegardé dans la base de données SQLite."
    // }

/************************ MAMAGE LANGUAGE************************/
const language_button = document.getElementById('home__language');
const download_link = document.getElementById('download_link');

language_button.addEventListener('click', changeLanguage);

async function changeLanguage(){
    const language = language_button.textContent.toString();
    if(language === 'Français') await setContent('FR');
    else await setContent('EN');
}

async function setContent(language){
    // let content = await fetch('./json/content.json');
    // let result = await content.json();
    dictionnary.forEach(element => {
        let node = document.getElementsByClassName(element['title'])[0];
        node.textContent = element[language]; 
    });

    if(language === 'FR'){
        let displayMode2 = document.getElementById('display__mode');
        let displayModeContent = displayMode2.innerText.toString();
        language_button.textContent = 'English';
        displayMode2.innerText = displayModeContent === 'Dark mode' ? 'Mode sombre' : 'Mode clair';
        download_link.setAttribute('href', './pdf/Ouambo_Silatchom_Sedric_CV_FR.pdf')
    }
    else{
        let displayMode2 = document.getElementById('display__mode');
        let displayModeContent = displayMode2.innerText.toString();
        language_button.textContent = 'Français';
        displayMode2.textContent = displayModeContent === 'Mode sombre' ? 'Dark mode' : 'Light mode';
        download_link.setAttribute('href', './pdf/Ouambo_Silatchom_Sedric_CV_EN.pdf')
    }
}

/************************ MENU SHOW Y HIDDEN ************************/
const navMenu = document.getElementById('nav-menu'),
      navToggle = document.getElementById('nav-toggle'),
      navClose = document.getElementById('nav-close');

/************************ MENU SHOW  ************************/
/* validate if constant esxists */
if(navToggle){
    navToggle.addEventListener('click', () =>{
        navMenu.classList.add('show-menu');
    });
}

/************************ MENU HIDDEN ************************/
/* validate if constant esxists */
if(navClose){
    navClose.addEventListener('click', () =>{
        navMenu.classList.remove('show-menu');
    });
}

/************************* REMOVE MENU MOBILE**********************/
const navLink = document.querySelectorAll('.nav__link');

function linkAction(){
    const navMenu = document.getElementById('nav-menu');
    // When we click on each nav__link, we remove the show-menu class
    navMenu.classList.remove('show-menu');
}
navLink.forEach(n => n.addEventListener('click', linkAction));

/************************* ACCORDION SKILLS**********************/
const skillsContent = document.getElementsByClassName('skills__content'),
      skillsHeader = document.querySelectorAll('.skills__header');

function toggleSkills(){
    let itemClass = this.parentNode.className;
    for(i = 0; i < skillsContent.length; i++){
        skillsContent[i].className = 'skills__content skills__close';
    }
    if(itemClass === 'skills__content skills__close'){
        this.parentNode.className = 'skills__content skills__open';
    }
}

skillsHeader.forEach((element) =>{
    element.addEventListener('click', toggleSkills);
})

/************************* QUALIFICATION TABS **********************/
const tabs = document.querySelectorAll('[data-target]'),
      tabContents = document.querySelectorAll('[data-content]');

tabs.forEach(tab =>{
    tab.addEventListener('click', () =>{
        const target = document.querySelector(tab.dataset.target);

        tabContents.forEach(tabContent =>{
            tabContent.classList.remove('qualification__active');
        });
        target.classList.add('qualification__active');

        tabs.forEach(tab =>{
            tab.classList.remove('qualification__active');
        })
        tab.classList.add('qualification__active');
    })
})

/************************* SERVICES MODAL**********************/
const modalViews = document.querySelectorAll('.services__modal'),
      modalBtns = document.querySelectorAll('.services__button'),
      modalCloses = document.querySelectorAll('.services__modal-close');

let modal = function(modalClick){
    modalViews[modalClick].classList.add('active-modal');
}

modalBtns.forEach((modalBtn, i) => {
    modalBtn.addEventListener('click', () => {
        modal(i);
    })
});

modalCloses.forEach((modalClose) => {
    modalClose.addEventListener('click', () => {
       modalViews.forEach((modalView) => {
        modalView.classList.remove('active-modal');
       });
    });
});

/************************* PORTFOLIO SWIPER**********************/
let swiper = new Swiper(".portfolio__container", {
    cssMode: true,
    loop: true,
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },
    pagination: {
      el: ".swiper-pagination",
      clickable: true,
    },
    mousewheel: true,
    keyboard: true,
});

/********************** PORTFOLIO MODAL *****************************/
const portfolioDescBtns = document.querySelectorAll('.portfolio__button2'),
      portfolioCloses = document.querySelectorAll('.portfolio__modal-close'),
      portfolioModal = document.querySelectorAll('.portfolio__modal');

portfolioDescBtns.forEach((btn) => {
    btn.addEventListener('click', () => {
        let id = btn.getAttribute('id');
        let modal = document.getElementById('portfolio__modal'+id);
        modal.classList.add('active-modal');
    });
});

portfolioCloses.forEach((btnClose) => {
    btnClose.addEventListener('click', () => {
        portfolioModal.forEach((modal) =>{
            modal.classList.remove('active-modal');
        });
    });
});

/********************** SCROLL SECTIONS ACTIVE LINK *****************************/
const sections = document.querySelectorAll('section[id]');

function scrollActive(){
    const scrollY = window.pageYOffset;

    sections.forEach(current => {
        const sectionHeight = current.offsetHeight;
        const sectionTop = current.offsetTop - 50;
        let sectionId = current.getAttribute('id');

        if(scrollY > sectionTop && scrollY <= sectionTop + sectionHeight){
            document.querySelector('.nav__nemu a[href*=' + sectionId + ']').classList.add('active-link');
        }
        else{
            document.querySelector('.nav__nemu a[href*=' + sectionId + ']').classList.remove('active-link');
        }
    });
}
window.addEventListener('scroll', scrollActive);

/********************** CHANGE BACKGROUND HEADER *****************************/
function scrollHeader(){
    const nav = document.getElementById('header');
    if(this.scrollY >= 80) {
        nav.classList.add('scroll-header');
    }else{
        nav.classList.remove('scroll-header');
    }
}
window.addEventListener('scroll', scrollHeader);

/********************** SHOW SCROLL UP *****************************/
function scrollUp(){
    const scrollUp = document.getElementById('scroll-up');
    if(this.scrollY >= 560){
        scrollUp.classList.add('show-scroll');
    }
    else{
        scrollUp.classList.remove('show-scroll');
    }
}
window.addEventListener('scroll', scrollUp);

/********************** DARK LIGHT THEME*****************************/
const themeButton = document.getElementById('theme-button');
const darkTheme = 'dark-theme';
const iconTheme = 'uil-sun';

//sujet precedemment selectionne (si l'utilisateur a selectionner)
const selectedTheme = localStorage.getItem('selected-them');
const selectedIcon = localStorage.getItem('selected-icon');

//On obtient le them courant 
const getCurrentTheme = () => document.body.classList.contains(darkTheme) ? 'dark' : 'light';
const getCurrentIcon = () => themeButton.classList.contains(iconTheme) ? 'uil-moon' : 'uil-sun'

//On valide si l'utilisateur a precedemment choisi un sujet
if(selectedTheme){
    document.body.classList[selectedTheme === 'dark' ? 'add' : 'remove'](darkTheme);
    themeButton.classList[selectedIcon === 'uil-moon' ? 'add' : 'remove'](iconTheme);
}

//Activer ou desactiver le theme avec le bouton
themeButton.addEventListener('click', () => {
    let displayLanguage = document.getElementById('home__language');
    let displayMode = document.getElementById('display__mode');
    let displayLanguageContent = displayLanguage.innerText;
    //add or remove dark / icon theme
    document.body.classList.toggle(darkTheme);
    themeButton.classList.toggle(iconTheme);

    //save the theme and current icon that user choose
    localStorage.setItem('selected-them', getCurrentTheme());
    localStorage.setItem('selected-icon', getCurrentIcon());

    if(getCurrentTheme() === 'dark'){
        displayMode.innerText = displayLanguageContent === 'English' ? 'Mode clair' : 'Light mode';
    }
    else{
        displayMode.innerText = displayLanguageContent === 'English' ? 'Mode sombre' : 'Dark mode';
    }
});

// function initDarkMode(mode){
//     let displayLanguage2 = document.getElementById('home__language');
//     let displayMode2 = document.getElementById('display__mode');

//     const themeButton2 = document.getElementById('theme-button');
//     const darkTheme2 = 'dark-theme';
//     const iconTheme2 = 'uil-sun';

//     document.body.classList.toggle(darkTheme2);
//     themeButton2.classList.toggle(iconTheme2);
// }

//Load English Content first
// initDarkMode();
setContent('EN');